<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>HAPPYBET</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="WE VERY HAPPY TODAY" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1>This is <em>HAPPY BET</em>.</h1>

    <p>Is very simple bet game.</p>

    <h2>PLAY</h2>

    <p>Make bet and maybe you lose! Maybe you win!</p>

    <div>
      <button id="bet1Btn">BET 1 REDLC</button>
      <button id="bet2Btn">BET 2 REDLC</button>
    </div>

    <div>
      <button id="forceRollBtn">FORCE ROLL</button>
      <button id="setRandomSeedBtn">SET RANDOM SEED</button>
    </div>

    <div>
      <button id="fetchBalanceBtn">MY BALANCE</button>
      <button id="withdrawBtn">WITHDRAW</button>
    </div>

    <p>
      <a
        href="https://redlightscan.finance/address/0x146f34662FF54Da689c4B8312f1ed7789c9f9A20/contracts"
        target="_blank"
        >SEE CODE BLOCKEXPLORER</a
      >
    </p>

    <hr />

    <h2>Is easy for play:</h2>

    <ul>
      <li>Place a bet with 1 REDLC or 2 REDLCc</li>
      <li>Wait for 50 bets to be placed</li>
      <ul>
        <li>
          After 50 bets are placed, <em>Roll()</em> is called automatically
        </li>
        <li>
          You can also call <em>Roll()</em> manually without waiting for 50
          bets, but cost 1 REDLC
        </li>
      </ul>
      <li><em>Roll()</em> determine randomly to set ODD or EVEN</li>
      <li>When <em>Roll()</em> is ODD, players who bet 1 REDLC win</li>
      <li>When <em>Roll()</em> is EVEN, players who bet 2 REDLC win</li>
      <li>When you lose, you lose the REDLC you bet</li>
      <li>When you win, you win original bet + share of lose pool</li>
      <li>House take 10% of loser pool</li>
      <li>All onchain. Contract is verified. Open source.</li>
      <li>All actions emit an event on chain. Transparent.</li>
    </ul>

    <hr />

    <h2>How set new randomSeed:</h2>

    <ul>
      <li>Call <em>setRandomSeed</em> function on contract</li>
      <li>Fee for set new random seed 2 REDLC</li>
      <li>Anyone may set new random seed!!! Make wild fun</li>
    </ul>

    <hr />

    <h2>How get winning:</h2>

    <ul>
      <li>Call <em>withdraw</em> function on contract</li>
      <li>Withdraw all you winning to you in 1 transaction</li>
    </ul>

    <hr />

    <h2>How payout calculate:</h2>

    <ul>
      <li>Take bets of loser, put in pool</li>
      <li>House take 10% of loser pool</li>
      <li>Remaining loser pool split evenly between winners</li>
    </ul>

    <hr />

    <h2>How roll work:</h2>

    <ul>
      <li>Hash <em>randomSeed</em> with block height and block timestamp</li>
      <li>Convert hash uint256</li>
      <li>Mod 2 uint256 to set even or odd</li>
    </ul>

    <hr />
    <script type="module">
      import { main } from "./app.js";

      main().catch((error) => {
        console.error(`error: ${JSON.stringify(error)}`);
      });
    </script>
  </body>
</html>
